# [v0.0.14] Changelog - Sistema Hefest

> ‚ö†Ô∏è **Esta versi√≥n sigue en desarrollo activo. Se podr√°n a√±adir m√°s elementos, fixes y mejoras antes del cierre definitivo de la release.**

## Fecha de release: Julio 2025

### Estado: üöß En desarrollo

---

## üÜï Cambios principales

- **Estandarizaci√≥n global del identificador de mesa:**
  - El identificador √∫nico de mesa es ahora siempre el campo string `numero` (ej: "T01").
  - Eliminado el uso de `mesa.id` como identificador de negocio; se mantiene solo como referencia interna.
  - Refactorizaci√≥n de modelos, l√≥gica, controladores, servicios y UI para operar √∫nicamente con `numero`.
- **Refactorizaci√≥n de modelos y servicios:**
  - Modelo `Mesa` actualizado en `core/hefest_data_models.py` y `services/tpv_service.py`.
  - M√©todos auxiliares para eliminar y buscar mesas por `numero`.
  - Carga de datos de prueba y migraciones adaptadas al nuevo identificador.
- **Refactorizaci√≥n de UI y controladores:**
  - Todos los widgets y controladores de mesas usan `numero` como identificador √∫nico.
  - Propagaci√≥n y sincronizaci√≥n de reservas y eventos usando `numero`.
  - Correcci√≥n de propagaci√≥n de identificador en eventos, reservas y widgets.
- **Fixes y mejoras:**
  - Correcci√≥n de bug: el contador de reserva ahora aparece correctamente en el widget de mesa reservada.
  - Validaci√≥n de la l√≥gica de asignaci√≥n de `proxima_reserva` y sincronizaci√≥n de reservas en la UI.
  - Correcci√≥n de detalles menores de UI, validaci√≥n de nulos y errores de compilaci√≥n.

---

## üõ†Ô∏è Excepciones funcionales documentadas

- Se mantiene `mesa.id` como referencia interna solo para compatibilidad t√©cnica y persistencia.
- TODO: Refactorizar legacy/compatibilidad cuando se eliminen dependencias de `id` en futuras versiones.

---

## üß™ Validaciones realizadas

- Validaci√≥n de persistencia y funcionamiento de todos los elementos del sistema.
- Pruebas de carga de datos, migraciones y compatibilidad.
- Validaci√≥n visual y funcional de widgets, controladores y servicios.

---

## üßπ Limpieza y organizaci√≥n continua (julio 2025)

- Eliminaci√≥n de logs antiguos y archivos de pruebas.
- Reubicaci√≥n de scripts de migraci√≥n y fixes fuera de `data/` hacia `docs/archive/legacy_cleaned_20250708/`.
- Cumplimiento estricto de la pol√≠tica de carpetas: solo datos y backups en `data/`.
- Proceso de limpieza y organizaci√≥n sigue en curso.

---

## üóíÔ∏è Notas adicionales

- Todos los cambios cumplen la pol√≠tica de nomenclatura, estructura y documentaci√≥n.
- No se detectaron duplicados ni conflictos de identificadores.
- Se recomienda revisar dependencias externas que puedan usar `id` como identificador de negocio.

---

## üë§ Autor√≠a y revisi√≥n

- Refactor y fixes: Equipo principal de desarrollo Hefest
- Revisi√≥n QA: Julio 2025

---

> Documento generado y validado seg√∫n las pol√≠ticas de changelog y compliance del proyecto.

---

> Este changelog se ir√° actualizando conforme avance el desarrollo de la versi√≥n 0.0.14.
